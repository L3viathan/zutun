!function(){const t=window.htmx;t.defineExtension("drag",{init:t=>{document.addEventListener("dragstart",a),document.addEventListener("dragover",s),document.addEventListener("dragleave",d),document.addEventListener("dragend",o),document.addEventListener("drop",c)}});let n=null;function e(t,n){return null==t?null:t instanceof Element?null==(t=t.closest(`[${n}],[data-${n}]`))?null:t instanceof Element?t:null:null}function r(t,n){return null===t?null:t.getAttribute(n)||t.getAttribute("data-"+n)}function a(t){if(!t.dataTransfer)return;const a=e(t.target,"hx-drag");if(!a)return null;null!==r(a,"hx-drag")&&(a.classList.add("hx-drag"),n=a)}function s(t){if(!n)return;const r=e(t.target,"hx-drop");r&&(t.preventDefault(),r.classList.add("hx-drag-over"))}function d(t){if(!n)return;const r=e(t.target,"hx-drop");r&&r.classList.remove("hx-drag-over")}function o(){n&&n.classList.remove("hx-drag")}async function c(t){if(!n)return;const a=n,s=e(t.target,"hx-drop");if(!s)return;s.classList.add("hx-drop"),s.classList.remove("hx-drag-over");const d=JSON.parse(r(a,"hx-drag")||"{}"),o=JSON.parse(r(s,"hx-drop")||"{}"),c=r(a,"hx-drag-sync")||r(a,"hx-drop-sync"),u="drag"===c,l=!!c;s.classList.add("htmx-request"),a.classList.add("htmx-request");const h=u?[a,s]:[s,a];for(const t of h){const n=i(t,t===a,d,o);l&&await n}a.classList.remove("hx-drag"),s.classList.remove("hx-drop"),n=null}async function i(n,e,a,s){if(!document.body.contains(n))return;let d,o,c;if(e?(o=r(n,"hx-drag-action"),d=r(n,"hx-drag-method")||"PUT",c=Object.assign({},s,a)):(o=r(n,"hx-drop-action"),d=r(n,"hx-drop-method")||"PUT",c=Object.assign({},a,s)),null!==o)try{await t.ajax(d,o,{source:n,values:c})}catch(t){return}}}();